{"ast":null,"code":"var _s = $RefreshSig$();\nimport api from '../utils/api';\nimport useFlashMessage from './useFlashMessage';\nimport { useState, useEffect } from 'react';\nimport { useHistory } from 'react-router-dom';\nexport default function useAuth() {\n  _s();\n  const [autenticado, setAutenticado] = useState(false);\n  const {\n    setFlashMessage\n  } = useFlashMessage();\n  async function register(usuario) {\n    let msg = 'Cadastro realizado com sucesso!';\n    let type = 'sucess';\n    try {\n      const data = await api.post('/usuarios/registrar', usuario).then(response => {\n        return response.data;\n      });\n      console.log(data);\n    } catch (error) {\n      msg = error.response.data.message;\n      type = 'error';\n    }\n    setFlashMessage(msg, type);\n  }\n\n  // Vai receber os dados do login\n  async function authUser(data) {\n    setAutenticado(true);\n  }\n  return {\n    register\n  };\n}\n_s(useAuth, \"hR00WkMhKgxzybSjT3LXE96q7ow=\", false, function () {\n  return [useFlashMessage];\n});","map":{"version":3,"names":["api","useFlashMessage","useState","useEffect","useHistory","useAuth","_s","autenticado","setAutenticado","setFlashMessage","register","usuario","msg","type","data","post","then","response","console","log","error","message","authUser"],"sources":["/home/kaue/Downloads/Node/mongo/frontend/src/hooks/useAuth.js"],"sourcesContent":["import api from '../utils/api'\nimport useFlashMessage from './useFlashMessage'\n\nimport {useState, useEffect} from 'react'\nimport {useHistory} from 'react-router-dom'\n\nexport default function useAuth(){\n    const [autenticado, setAutenticado] = useState(false)\n    const {setFlashMessage} = useFlashMessage()\n\n    async function register(usuario){\n\n        let msg = 'Cadastro realizado com sucesso!'\n        let type = 'sucess'\n    \n        try {\n            const data = await api.post('/usuarios/registrar', usuario).then((response) => {\n                return response.data\n            })\n            console.log(data)\n        } catch (error) {\n            msg = error.response.data.message\n            type = 'error'\n        }\n\n        setFlashMessage(msg, type)\n    }\n\n    // Vai receber os dados do login\n    async function authUser(data){\n        setAutenticado(true)\n    }\n\n    return {register}\n}\n\n"],"mappings":";AAAA,OAAOA,GAAG,MAAM,cAAc;AAC9B,OAAOC,eAAe,MAAM,mBAAmB;AAE/C,SAAQC,QAAQ,EAAEC,SAAS,QAAO,OAAO;AACzC,SAAQC,UAAU,QAAO,kBAAkB;AAE3C,eAAe,SAASC,OAAOA,CAAA,EAAE;EAAAC,EAAA;EAC7B,MAAM,CAACC,WAAW,EAAEC,cAAc,CAAC,GAAGN,QAAQ,CAAC,KAAK,CAAC;EACrD,MAAM;IAACO;EAAe,CAAC,GAAGR,eAAe,EAAE;EAE3C,eAAeS,QAAQA,CAACC,OAAO,EAAC;IAE5B,IAAIC,GAAG,GAAG,iCAAiC;IAC3C,IAAIC,IAAI,GAAG,QAAQ;IAEnB,IAAI;MACA,MAAMC,IAAI,GAAG,MAAMd,GAAG,CAACe,IAAI,CAAC,qBAAqB,EAAEJ,OAAO,CAAC,CAACK,IAAI,CAAEC,QAAQ,IAAK;QAC3E,OAAOA,QAAQ,CAACH,IAAI;MACxB,CAAC,CAAC;MACFI,OAAO,CAACC,GAAG,CAACL,IAAI,CAAC;IACrB,CAAC,CAAC,OAAOM,KAAK,EAAE;MACZR,GAAG,GAAGQ,KAAK,CAACH,QAAQ,CAACH,IAAI,CAACO,OAAO;MACjCR,IAAI,GAAG,OAAO;IAClB;IAEAJ,eAAe,CAACG,GAAG,EAAEC,IAAI,CAAC;EAC9B;;EAEA;EACA,eAAeS,QAAQA,CAACR,IAAI,EAAC;IACzBN,cAAc,CAAC,IAAI,CAAC;EACxB;EAEA,OAAO;IAACE;EAAQ,CAAC;AACrB;AAACJ,EAAA,CA5BuBD,OAAO;EAAA,QAEDJ,eAAe;AAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}